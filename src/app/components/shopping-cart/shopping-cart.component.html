<app-navigation></app-navigation>
<p-toast position="top-right" class="custom-toast"></p-toast>
<div class="container pt-5 pb-5">
  <div class="row">
    <div class="col-md-8">
      <div class="row" *ngFor="let item of items">
        <div class="card text-center mb-3 animate__animated animate__fadeIn">
          <div class="card-body d-flex justify-content-between align-items-start">
            <div class="col-md-4">
              <img [src]="item.imagen" alt="" srcset="" class="card-img-top">
            </div>
            <div class="col-md-8">
              <div class="row">
                  <p style="width: 100%;" class="text-left h4 col-12">{{item.nombre_Producto}}</p>
                      <label for="" class=" col-form-label" style="margin-right: 2rem;">Cantidad: </label>
                      <div class="">
                          <button class="btn btn-secondary" [disabled]="product?.stock == 0" (click)="reduceQuantity(item)">
                            <i class="fas fa-minus"></i>
                          </button>
                          <span class="quantity">
                            {{item.cantidad}}
                          </span>
                          <button class="btn btn-secondary" [disabled]="product?.stock == 0" (click)="addQuantity(item)">
                            <i class="fas fa-plus"></i>
                          </button>
                      </div>
              </div>
              <div class="row">
                  <span class="col-6 icon-cart mt-2" (click)="removeItem(item)"><i class="fas fa-trash"></i>
                    Eliminar</span>
                  <span class="col-6 prize d-block m-auto text-right" style="width: 30%;"><strong>{{item.precio | number}} pts</strong></span>
              </div>
              
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <div class="card text-center">
        <div class="card-header bg-dark text-white d-flex justify-content-between align-items-center">
          <h4 class="text-white text-center" style="width: 100%;">Resumen de tu compra</h4>
        </div>
        <div class="card-body">
          <hr>
          <div class="row">
              <div class="col-6">
                  <p class="text-left text-bold text-green">Subtotal: </p>
              </div>
              <div class="col-6">
                <p class="text-right text-red text-bold summary-price">{{totalPago | number }} pts</p>
              </div>
          </div>
          <hr>
          <button class="btn btn-outline-success btn-block" data-toggle="modal" data-target=".bd-purchasing-modal-lg">Ir a pagar</button>
          <div class="row">
              <p class="d-block mt-3 text-center" style="width: 100%;">
                  <i class="fa fa-shield-alt"></i> Pago seguro
              </p>
              
            </div>
        </div>
        
    </div>
    </div>
  </div>
</div>
<app-footer></app-footer>
<app-confirm-purchasing></app-confirm-purchasing>